"use strict";(self.webpackChunkclone_chatgpt_client=self.webpackChunkclone_chatgpt_client||[]).push([[415],{871:function(e,n,t){t.d(n,{TA:function(){return f}});var r=t(294),c=(e=>(e.Mouse="mouse",e.Touch="touch",e.Pointer="pointer",e))(c||{}),u=(e=>(e.CancelledByMovement="cancelled-by-movement",e.CancelledByRelease="cancelled-by-release",e.CancelledOutsideElement="cancelled-outside-element",e))(u||{});const o=()=>window?.PointerEvent??null,s=()=>window?.TouchEvent??null;function i(e){const{nativeEvent:n}=e;if(!n)return!1;const t=s();return t&&n instanceof t||"touches"in n}function a(e){const n=o();return e.nativeEvent instanceof MouseEvent&&!(n&&e.nativeEvent instanceof n)}function l(e){const{nativeEvent:n}=e;if(!n)return!1;const t=o();return t&&n instanceof t||"pointerId"in n}function d(e){return a(e)||i(e)||l(e)}function v(e){return i(e)?{x:e.touches[0].pageX,y:e.touches[0].pageY}:a(e)||l(e)?{x:e.pageX,y:e.pageY}:null}function f(e,{threshold:n=400,captureEvent:t=!1,detect:o=c.Pointer,cancelOnMovement:s=!1,cancelOutsideElement:i=!0,filterEvents:a,onStart:l,onMove:f,onFinish:E,onCancel:h}={}){const p=(0,r.useRef)(!1),w=(0,r.useRef)(!1),m=(0,r.useRef)(),M=(0,r.useRef)(),C=(0,r.useRef)(),T=(0,r.useRef)(e),y=(0,r.useRef)(null),g=(0,r.useCallback)((e=>{w.current||d(e)&&(void 0!==a&&!a(e)||(t&&e.persist(),l?.(e,{context:m.current}),y.current=v(e),w.current=!0,M.current=e.currentTarget,C.current=setTimeout((()=>{T.current&&(T.current(e,{context:m.current}),p.current=!0)}),n)))}),[t,a,l,n]),x=(0,r.useCallback)(((e,n)=>{d(e)&&w.current&&(y.current=null,t&&e.persist(),p.current?E?.(e,{context:m.current}):w.current&&h?.(e,{context:m.current,reason:n??u.CancelledByRelease}),p.current=!1,w.current=!1,void 0!==C.current&&clearTimeout(C.current))}),[t,E,h]),b=(0,r.useCallback)((e=>{if(f?.(e,{context:m.current}),s&&y.current){const n=v(e);if(n){const t=!0===s?25:s,r={x:Math.abs(n.x-y.current.x),y:Math.abs(n.y-y.current.y)};(r.x>t||r.y>t)&&x(e,u.CancelledByMovement)}}}),[x,s,f]);return(0,r.useEffect)((()=>{function e(e){const n=function(e){return{target:e.target,currentTarget:e.currentTarget,nativeEvent:e,persist:()=>{}}}(e);x(n)}if(window)return window.addEventListener("mouseup",e),window.addEventListener("touchend",e),window.addEventListener("pointerup",e),()=>{window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),window.removeEventListener("pointerup",e)}}),[x]),(0,r.useEffect)((()=>()=>{void 0!==C.current&&clearTimeout(C.current)}),[]),(0,r.useEffect)((()=>{T.current=e}),[e]),(0,r.useCallback)((n=>{if(m.current=n,null===e)return{};switch(o){case c.Mouse:{const e={onMouseDown:g,onMouseMove:b,onMouseUp:x};return i&&(e.onMouseLeave=e=>{x(e,u.CancelledOutsideElement)}),e}case c.Touch:return{onTouchStart:g,onTouchMove:b,onTouchEnd:x};case c.Pointer:{const e={onPointerDown:g,onPointerMove:b,onPointerUp:x};return i&&(e.onPointerLeave=e=>x(e,u.CancelledOutsideElement)),e}}}),[e,x,i,o,b,g])}}}]);